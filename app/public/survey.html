<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Friend Finder</title>
  <!-- Latest compiled and minified CSS & JS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <script src="https://code.jquery.com/jquery.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>

</head>

<body>

  <div class="container">
    <div class="jumbotron">
      <h1>Friend Finder</h1>
      <h3>State of the art machine learning to connect people!</h3>
      <hr>
      <a href="/">
        <button class="btn btn-danger btn-lg">
          <span class="fa fa-home"></span>
        </button>
      </a>
    </div>
    <div class="card-body text-center quest1">
      <h4>How excited are you about getting
        <strong>revenge</strong> on someone who has wronged you?</h4>
      <form>
        <select id=quest1>
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5</option>
          <option value="6">6</option>
          <option value="7">7</option>
          <option value="8">8</option>
          <option value="9">9</option>
          <option value="10" selected>10</option>
        </select>
      </form>
    </div>
    <div class="card-body text-center quest1">
      <h4>How much do you enjoy drinking a few bottles of
        <strong>wine</strong> after a long day?</h4>
      <form>
        <select id=quest2>
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5</option>
          <option value="6">6</option>
          <option value="7">7</option>
          <option value="8">8</option>
          <option value="9">9</option>
          <option value="10" selected>10</option>
        </select>
      </form>
    </div>
    <div class="card-body text-center quest1">
      <h4>How much do you enjoy really
        <strong>cold</strong> weather?</h4>
      <form>
        <select id=quest3>
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5</option>
          <option value="6">6</option>
          <option value="7">7</option>
          <option value="8">8</option>
          <option value="9">9</option>
          <option value="10" selected>10</option>
        </select>
      </form>
    </div>
    <div class="card-body text-center quest1">
      <h4>How concerned are you with getting
        <strong>paid</strong> for a job well done?</h4>
      <form>
        <select id=quest4>
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5</option>
          <option value="6">6</option>
          <option value="7">7</option>
          <option value="8">8</option>
          <option value="9">9</option>
          <option value="10" selected>10</option>
        </select>
      </form>
    </div>
    <div class="card-body text-center quest1">
      <h4>How good are you at coming up with 
        <strong>clever</strong> responses to insults?</h4>
      <form>
        <select id=quest5>
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5</option>
          <option value="6">6</option>
          <option value="7">7</option>
          <option value="8">8</option>
          <option value="9">9</option>
          <option value="10" selected>10</option>
        </select>
      </form>
    </div>
    <div class="card-body text-center quest1">
      <h4>How scared are you of 
        <strong>fire</strong>?</h4>
      <form>
        <select id=quest6>
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5</option>
          <option value="6">6</option>
          <option value="7">7</option>
          <option value="8">8</option>
          <option value="9">9</option>
          <option value="10" selected>10</option>
        </select>
      </form>
    </div>
    <div class="card-body text-center quest1">
      <h4>How much do you enjoy eating a nice roasted
        <strong>chicken</strong>?</h4>
      <form>
        <select id=quest7>
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5</option>
          <option value="6">6</option>
          <option value="7">7</option>
          <option value="8">8</option>
          <option value="9">9</option>
          <option value="10" selected>10</option>
        </select>
      </form>
    </div>
    <div class="card-body text-center quest1">
      <h4>How close is your relationship with your
        <strong>father</strong>?</h4>
      <form>
        <select id=quest8>
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5</option>
          <option value="6">6</option>
          <option value="7">7</option>
          <option value="8">8</option>
          <option value="9">9</option>
          <option value="10" selected>10</option>
        </select>
      </form>
    </div>
    <div class="card-body text-center quest1">
      <h4>How good are you at 
        <strong>accomplishing tasks</strong> once you set your mind to it?</h4>
      <form>
        <select id=quest9>
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5</option>
          <option value="6">6</option>
          <option value="7">7</option>
          <option value="8">8</option>
          <option value="9">9</option>
          <option value="10" selected>10</option>
        </select>
      </form>
    </div>
    <div class="card-body text-center quest1">
      <h4>How would you rate your ability to express yourself when
        <strong>speaking</strong>?</h4>
      <form>
        <select id=quest10>
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5</option>
          <option value="6">6</option>
          <option value="7">7</option>
          <option value="8">8</option>
          <option value="9">9</option>
          <option value="10" selected>10</option>
        </select>
      </form>
    </div>
    <br>
    <div class="text-right">
      <button type="submit" class="btn btn-primary btn-md" id="add-btn" style="margin-bottom:40px">
        <span class="fa fa-fire"></span> Find My Soulmate</button>
    </div>
  </div>

  <script type="text/javascript">
    $("#add-btn").on("click", function (event) {
      event.preventDefault();
      var userResponses = {
        name:"user",
        responses:[
        $("#quest1").val(),
        $("#quest2").val(),
        $("#quest3").val(),
        $("#quest4").val(),
        $("#quest5").val(),
        $("#quest6").val(),
        $("#quest7").val(),
        $("#quest8").val(),
        $("#quest9").val(),
        $("#quest10").val(),
      ]};
      
       $.post("/api/friends", userResponses)
        .then(function (data) {
          //console.log("survey.html", data);
          alert("Finding your perfect match...");
          //alert(data.name)
          var modName = "<h1>"+data.name+"</h1><br><img class=\"img-responsive\" src=\""+ data.photo+"\" alt=\"woops\" style=\"max-width:465px;\">"
          var modPic = data.photo
          $("#myModal").modal('show');
          $(".modal-body").html(modName)
        }); 
    });
  </script>

</body>
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Congratulations, you matched closest with...</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
    
      </div>
    </div>
  </div>
</div>

</html>